function getLocation(){function t(t){var e=t.coords;map.setView([e.latitude,e.longitude],8)}function e(){console.log("something went wrong")}var n={enableHighAccuracy:!0};navigator.geolocation&&navigator.geolocation.getCurrentPosition(t,e,n)}function initMap(){map=L.mapbox.map("map","imjared.iah0ll3p").setView([39.12367,-96.81229],5),featureLayer=L.mapbox.featureLayer().addTo(map),featureLayer.on("layeradd",function(t){var e=t.layer,n=e.feature,r='<div class="popup"><p class="race-time">'+n.properties.day+'</p><p class="race-time">'+n.properties.month+'</p><p class="race-title">'+n.properties.name+'</p><p class="race-location">'+n.properties.location+'</p><p class="race-location"><a href="'+n.properties.url+'">View race information</a></p></div>';e.bindPopup(r,{closeButton:!1,minWidth:320})}),updateRange(["0.00","5.00"],"all"),L.control.locate({locateOptions:{maxZoom:8}}).addTo(map)}function updateRange(t,e){LAUNCHED||(featureLayer.setGeoJSON(geoJson),LAUNCHED=!0);var n=currentDate.year(),r=parseInt(t[0])+1,i=parseInt(t[1])+1,a=moment(r+" "+n,"M YYYY"),s=moment(i+" "+n,"M YYYY").endOf("month"),o=moment.range(a,s);featureLayer.setFilter(function(t){var r=moment(t.properties.month+" "+n,"MMM YYYY");return"all"===e?r.within(o):r.within(o)&&t.properties.day===e?!0:!1})}function setTimeVals(){var t=$("#slider").val(),e=$("select").val();updateRange(t,e)}function updateTimeText(){var t=$("#slider").val(),e=($("select").val(),parseInt(t[0])),n=parseInt(t[1]);months[e]!=months[n]?($(".multimonth").removeClass("is-hidden"),$(".singlemonth").addClass("is-hidden"),$("#date-now").text(months[e]),$("#date-end").text(months[n])):($(".multimonth").addClass("is-hidden"),$(".singlemonth").removeClass("is-hidden"))}(function(t){function e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(t,e){function n(){ue.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}var r=!0;return u(function(){return r&&(n(),r=!1),e.apply(this,arguments)},e)}function r(t,e){return function(n){return h(t.call(this,n),e)}}function i(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function a(){}function s(t){b(t),u(this,t)}function o(t){var e=_(t),n=e.year||0,r=e.quarter||0,i=e.month||0,a=e.week||0,s=e.day||0,o=e.hour||0,u=e.minute||0,c=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*c+6e4*u+36e5*o,this._days=+s+7*a,this._months=+i+3*r+12*n,this._data={},this._bubble()}function u(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return e.hasOwnProperty("toString")&&(t.toString=e.toString),e.hasOwnProperty("valueOf")&&(t.valueOf=e.valueOf),t}function c(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&Me.hasOwnProperty(e)&&(n[e]=t[e]);return n}function d(t){return 0>t?Math.ceil(t):Math.floor(t)}function h(t,e,n){for(var r=""+Math.abs(t),i=t>=0;r.length<e;)r="0"+r;return(i?n?"+":"":"-")+r}function f(t,e,n,r){var i=e._milliseconds,a=e._days,s=e._months;r=null==r?!0:r,i&&t._d.setTime(+t._d+i*n),a&&re(t,"Date",ne(t,"Date")+a*n),s&&ee(t,ne(t,"Month")+s*n),r&&ue.updateOffset(t,a||s)}function l(t){return"[object Array]"===Object.prototype.toString.call(t)}function m(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function p(t,e,n){var r,i=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),s=0;for(r=0;i>r;r++)(n&&t[r]!==e[r]||!n&&v(t[r])!==v(e[r]))&&s++;return s+a}function g(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=Be[t]||Qe[e]||e}return t}function _(t){var e,n,r={};for(n in t)t.hasOwnProperty(n)&&(e=g(n),e&&(r[e]=t[n]));return r}function y(e){var n,r;if(0===e.indexOf("week"))n=7,r="day";else{if(0!==e.indexOf("month"))return;n=12,r="month"}ue[e]=function(i,a){var s,o,u=ue.fn._lang[e],c=[];if("number"==typeof i&&(a=i,i=t),o=function(t){var e=ue().utc().set(r,t);return u.call(ue.fn._lang,e,i||"")},null!=a)return o(a);for(s=0;n>s;s++)c.push(o(s));return c}}function v(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function w(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function Y(t,e,n){return Q(ue([t,11,31+e-n]),e,n).week}function M(t){return D(t)?366:365}function D(t){return t%4===0&&t%100!==0||t%400===0}function b(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[pe]<0||t._a[pe]>11?pe:t._a[ge]<1||t._a[ge]>w(t._a[me],t._a[pe])?ge:t._a[_e]<0||t._a[_e]>23?_e:t._a[ye]<0||t._a[ye]>59?ye:t._a[ve]<0||t._a[ve]>59?ve:t._a[we]<0||t._a[we]>999?we:-1,t._pf._overflowDayOfYear&&(me>e||e>ge)&&(e=ge),t._pf.overflow=e)}function k(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function S(t){return t?t.toLowerCase().replace("_","-"):t}function T(t,e){return e._isUTC?ue(t).zone(e._offset||0):ue(t).local()}function O(t,e){return e.abbr=t,Ye[t]||(Ye[t]=new a),Ye[t].set(e),Ye[t]}function x(t){delete Ye[t]}function U(t){var e,n,r,i,a=0,s=function(t){if(!Ye[t]&&De)try{require("./lang/"+t)}catch(e){}return Ye[t]};if(!t)return ue.fn._lang;if(!l(t)){if(n=s(t))return n;t=[t]}for(;a<t.length;){for(i=S(t[a]).split("-"),e=i.length,r=S(t[a+1]),r=r?r.split("-"):null;e>0;){if(n=s(i.slice(0,e).join("-")))return n;if(r&&r.length>=e&&p(i,r,!0)>=e-1)break;e--}a++}return ue.fn._lang}function C(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function F(t){var e,n,r=t.match(Te);for(e=0,n=r.length;n>e;e++)r[e]=nn[r[e]]?nn[r[e]]:C(r[e]);return function(i){var a="";for(e=0;n>e;e++)a+=r[e]instanceof Function?r[e].call(i,t):r[e];return a}}function L(t,e){return t.isValid()?(e=G(e,t.lang()),Ke[e]||(Ke[e]=F(e)),Ke[e](t)):t.lang().invalidDate()}function G(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Oe.lastIndex=0;r>=0&&Oe.test(t);)t=t.replace(Oe,n),Oe.lastIndex=0,r-=1;return t}function W(t,e){var n,r=e._strict;switch(t){case"Q":return Ie;case"DDDD":return He;case"YYYY":case"GGGG":case"gggg":return r?je:Ce;case"Y":case"G":case"g":return Ze;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?Ne:Fe;case"S":if(r)return Ie;case"SS":if(r)return Ae;case"SSS":if(r)return He;case"DDD":return Ue;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ge;case"a":case"A":return U(e._l)._meridiemParse;case"X":return ze;case"Z":case"ZZ":return We;case"T":return Ee;case"SSSS":return Le;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?Ae:xe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return xe;case"Do":return Pe;default:return n=new RegExp(N(j(t.replace("\\","")),"i"))}}function E(t){t=t||"";var e=t.match(We)||[],n=e[e.length-1]||[],r=(n+"").match(Je)||["-",0,0],i=+(60*r[1])+v(r[2]);return"+"===r[0]?-i:i}function z(t,e,n){var r,i=n._a;switch(t){case"Q":null!=e&&(i[pe]=3*(v(e)-1));break;case"M":case"MM":null!=e&&(i[pe]=v(e)-1);break;case"MMM":case"MMMM":r=U(n._l).monthsParse(e),null!=r?i[pe]=r:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(i[ge]=v(e));break;case"Do":null!=e&&(i[ge]=v(parseInt(e,10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=v(e));break;case"YY":i[me]=ue.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":i[me]=v(e);break;case"a":case"A":n._isPm=U(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":i[_e]=v(e);break;case"m":case"mm":i[ye]=v(e);break;case"s":case"ss":i[ve]=v(e);break;case"S":case"SS":case"SSS":case"SSSS":i[we]=v(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=E(e);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":t=t.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=e)}}function P(t){var e,n,r,i,a,s,o,u,c,d,h=[];if(!t._d){for(r=A(t),t._w&&null==t._a[ge]&&null==t._a[pe]&&(a=function(e){var n=parseInt(e,10);return e?e.length<3?n>68?1900+n:2e3+n:n:null==t._a[me]?ue().weekYear():t._a[me]},s=t._w,null!=s.GG||null!=s.W||null!=s.E?o=K(a(s.GG),s.W||1,s.E,4,1):(u=U(t._l),c=null!=s.d?J(s.d,u):null!=s.e?parseInt(s.e,10)+u._week.dow:0,d=parseInt(s.w,10)||1,null!=s.d&&c<u._week.dow&&d++,o=K(a(s.gg),d,c,u._week.doy,u._week.dow)),t._a[me]=o.year,t._dayOfYear=o.dayOfYear),t._dayOfYear&&(i=null==t._a[me]?r[me]:t._a[me],t._dayOfYear>M(i)&&(t._pf._overflowDayOfYear=!0),n=q(i,0,t._dayOfYear),t._a[pe]=n.getUTCMonth(),t._a[ge]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=h[e]=r[e];for(;7>e;e++)t._a[e]=h[e]=null==t._a[e]?2===e?1:0:t._a[e];h[_e]+=v((t._tzm||0)/60),h[ye]+=v((t._tzm||0)%60),t._d=(t._useUTC?q:V).apply(null,h)}}function I(t){var e;t._d||(e=_(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],P(t))}function A(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function H(t){t._a=[],t._pf.empty=!0;var e,n,r,i,a,s=U(t._l),o=""+t._i,u=o.length,c=0;for(r=G(t._f,s).match(Te)||[],e=0;e<r.length;e++)i=r[e],n=(o.match(W(i,t))||[])[0],n&&(a=o.substr(0,o.indexOf(n)),a.length>0&&t._pf.unusedInput.push(a),o=o.slice(o.indexOf(n)+n.length),c+=n.length),nn[i]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(i),z(i,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(i);t._pf.charsLeftOver=u-c,o.length>0&&t._pf.unusedInput.push(o),t._isPm&&t._a[_e]<12&&(t._a[_e]+=12),t._isPm===!1&&12===t._a[_e]&&(t._a[_e]=0),P(t),b(t)}function j(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i})}function N(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(t){var n,r,i,a,s;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(a=0;a<t._f.length;a++)s=0,n=u({},t),n._pf=e(),n._f=t._f[a],H(n),k(n)&&(s+=n._pf.charsLeftOver,s+=10*n._pf.unusedTokens.length,n._pf.score=s,(null==i||i>s)&&(i=s,r=n));u(t,r||n)}function $(t){var e,n,r=t._i,i=$e.exec(r);if(i){for(t._pf.iso=!0,e=0,n=Ve.length;n>e;e++)if(Ve[e][1].exec(r)){t._f=Ve[e][0]+(i[6]||" ");break}for(e=0,n=qe.length;n>e;e++)if(qe[e][1].exec(r)){t._f+=qe[e][0];break}r.match(We)&&(t._f+="Z"),H(t)}else ue.createFromInputFallback(t)}function R(e){var n=e._i,r=be.exec(n);n===t?e._d=new Date:r?e._d=new Date(+r[1]):"string"==typeof n?$(e):l(n)?(e._a=n.slice(0),P(e)):m(n)?e._d=new Date(+n):"object"==typeof n?I(e):"number"==typeof n?e._d=new Date(n):ue.createFromInputFallback(e)}function V(t,e,n,r,i,a,s){var o=new Date(t,e,n,r,i,a,s);return 1970>t&&o.setFullYear(t),o}function q(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function J(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function X(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function B(t,e,n){var r=le(Math.abs(t)/1e3),i=le(r/60),a=le(i/60),s=le(a/24),o=le(s/365),u=45>r&&["s",r]||1===i&&["m"]||45>i&&["mm",i]||1===a&&["h"]||22>a&&["hh",a]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",le(s/30)]||1===o&&["y"]||["yy",o];return u[2]=e,u[3]=t>0,u[4]=n,X.apply({},u)}function Q(t,e,n){var r,i=n-e,a=n-t.day();return a>i&&(a-=7),i-7>a&&(a+=7),r=ue(t).add("d",a),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function K(t,e,n,r,i){var a,s,o=q(t,0,1).getUTCDay();return n=null!=n?n:i,a=i-o+(o>r?7:0)-(i>o?7:0),s=7*(e-1)+(n-i)+a+1,{year:s>0?t:t-1,dayOfYear:s>0?s:M(t-1)+s}}function te(e){var n=e._i,r=e._f;return null===n||r===t&&""===n?ue.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=U().preparse(n)),ue.isMoment(n)?(e=c(n),e._d=new Date(+n._d)):r?l(r)?Z(e):H(e):R(e),new s(e))}function ee(t,e){var n;return"string"==typeof e&&(e=t.lang().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),w(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ne(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function re(t,e,n){return"Month"===e?ee(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function ie(t,e){return function(n){return null!=n?(re(this,t,n),ue.updateOffset(this,e),this):ne(this,t)}}function ae(t){ue.duration.fn[t]=function(){return this._data[t]}}function se(t,e){ue.duration.fn["as"+t]=function(){return+this/e}}function oe(t){"undefined"==typeof ender&&(ce=fe.moment,fe.moment=t?n("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ue):ue)}for(var ue,ce,de,he="2.6.0",fe="undefined"!=typeof global?global:this,le=Math.round,me=0,pe=1,ge=2,_e=3,ye=4,ve=5,we=6,Ye={},Me={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},De="undefined"!=typeof module&&module.exports,be=/^\/?Date\((\-?\d+)/i,ke=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Se=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Te=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Oe=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,xe=/\d\d?/,Ue=/\d{1,3}/,Ce=/\d{1,4}/,Fe=/[+\-]?\d{1,6}/,Le=/\d+/,Ge=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,We=/Z|[\+\-]\d\d:?\d\d/gi,Ee=/T/i,ze=/[\+\-]?\d+(\.\d{1,3})?/,Pe=/\d{1,2}/,Ie=/\d/,Ae=/\d\d/,He=/\d{3}/,je=/\d{4}/,Ne=/[+-]?\d{6}/,Ze=/[+-]?\d+/,$e=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Re="YYYY-MM-DDTHH:mm:ssZ",Ve=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],qe=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Je=/([\+\-]|\d\d)/gi,Xe=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Be={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Qe={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Ke={},tn="DDD w W M D d".split(" "),en="M D H h m s w W".split(" "),nn={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return h(this.year()%100,2)},YYYY:function(){return h(this.year(),4)},YYYYY:function(){return h(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+h(Math.abs(t),6)},gg:function(){return h(this.weekYear()%100,2)},gggg:function(){return h(this.weekYear(),4)},ggggg:function(){return h(this.weekYear(),5)},GG:function(){return h(this.isoWeekYear()%100,2)},GGGG:function(){return h(this.isoWeekYear(),4)},GGGGG:function(){return h(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return v(this.milliseconds()/100)},SS:function(){return h(v(this.milliseconds()/10),2)},SSS:function(){return h(this.milliseconds(),3)},SSSS:function(){return h(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+h(v(t/60),2)+":"+h(v(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+h(v(t/60),2)+h(v(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},rn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];tn.length;)de=tn.pop(),nn[de+"o"]=i(nn[de],de);for(;en.length;)de=en.pop(),nn[de+de]=r(nn[de],2);for(nn.DDDD=r(nn.DDD,3),u(a.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,r;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=ue.utc([2e3,e]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(r.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=ue([2e3,1]).day(e),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,r):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return Q(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ue=function(n,r,i,a){var s;return"boolean"==typeof i&&(a=i,i=t),s={},s._isAMomentObject=!0,s._i=n,s._f=r,s._l=i,s._strict=a,s._isUTC=!1,s._pf=e(),te(s)},ue.suppressDeprecationWarnings=!1,ue.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i)}),ue.utc=function(n,r,i,a){var s;return"boolean"==typeof i&&(a=i,i=t),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=i,s._i=n,s._f=r,s._strict=a,s._pf=e(),te(s).utc()},ue.unix=function(t){return ue(1e3*t)},ue.duration=function(t,e){var n,r,i,a=t,s=null;return ue.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(s=ke.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:v(s[ge])*n,h:v(s[_e])*n,m:v(s[ye])*n,s:v(s[ve])*n,ms:v(s[we])*n}):(s=Se.exec(t))&&(n="-"===s[1]?-1:1,i=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},a={y:i(s[2]),M:i(s[3]),d:i(s[4]),h:i(s[5]),m:i(s[6]),s:i(s[7]),w:i(s[8])}),r=new o(a),ue.isDuration(t)&&t.hasOwnProperty("_lang")&&(r._lang=t._lang),r},ue.version=he,ue.defaultFormat=Re,ue.momentProperties=Me,ue.updateOffset=function(){},ue.lang=function(t,e){var n;return t?(e?O(S(t),e):null===e?(x(t),t="en"):Ye[t]||U(t),n=ue.duration.fn._lang=ue.fn._lang=U(t),n._abbr):ue.fn._lang._abbr},ue.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),U(t)},ue.isMoment=function(t){return t instanceof s||null!=t&&t.hasOwnProperty("_isAMomentObject")},ue.isDuration=function(t){return t instanceof o},de=rn.length-1;de>=0;--de)y(rn[de]);ue.normalizeUnits=function(t){return g(t)},ue.invalid=function(t){var e=ue.utc(0/0);return null!=t?u(e._pf,t):e._pf.userInvalidated=!0,e},ue.parseZone=function(){return ue.apply(null,arguments).parseZone()},ue.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)},u(ue.fn=s.prototype,{clone:function(){return ue(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=ue(this).utc();return 0<t.year()&&t.year()<=9999?L(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return k(this)},isDSTShifted:function(){return this._a?this.isValid()&&p(this._a,(this._isUTC?ue.utc(this._a):ue(this._a)).toArray())>0:!1},parsingFlags:function(){return u({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=L(this,t||ue.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?ue.duration(+e,t):ue.duration(t,e),f(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?ue.duration(+e,t):ue.duration(t,e),f(this,n,-1),this},diff:function(t,e,n){var r,i,a=T(t,this),s=6e4*(this.zone()-a.zone());return e=g(e),"year"===e||"month"===e?(r=432e5*(this.daysInMonth()+a.daysInMonth()),i=12*(this.year()-a.year())+(this.month()-a.month()),i+=(this-ue(this).startOf("month")-(a-ue(a).startOf("month")))/r,i-=6e4*(this.zone()-ue(this).startOf("month").zone()-(a.zone()-ue(a).startOf("month").zone()))/r,"year"===e&&(i/=12)):(r=this-a,i="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-s)/864e5:"week"===e?(r-s)/6048e5:r),n?i:d(i)},from:function(t,e){return ue.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(ue(),t)},calendar:function(){var t=T(ue(),this).startOf("day"),e=this.diff(t,"days",!0),n=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return D(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=J(t,this.lang()),this.add({d:t-e})):e},month:ie("Month",!0),startOf:function(t){switch(t=g(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=g(t),this.startOf(t).add("isoWeek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+ue(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+ue(t).startOf(e)},isSame:function(t,e){return e=e||"ms",+this.clone().startOf(e)===+T(t,this).startOf(e)},min:function(t){return t=ue.apply(null,arguments),this>t?this:t},max:function(t){return t=ue.apply(null,arguments),t>this?this:t},zone:function(t,e){var n=this._offset||0;return null==t?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof t&&(t=E(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,n!==t&&(!e||this._changeInProgress?f(this,ue.duration(n-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ue.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?ue(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return w(this.year(),this.month())},dayOfYear:function(t){var e=le((ue(this).startOf("day")-ue(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=Q(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=Q(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=Q(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this.day()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return Y(this.year(),1,4)},weeksInYear:function(){var t=this._lang._week;return Y(this.year(),t.dow,t.doy)},get:function(t){return t=g(t),this[t]()},set:function(t,e){return t=g(t),"function"==typeof this[t]&&this[t](e),this},lang:function(e){return e===t?this._lang:(this._lang=U(e),this)}}),ue.fn.millisecond=ue.fn.milliseconds=ie("Milliseconds",!1),ue.fn.second=ue.fn.seconds=ie("Seconds",!1),ue.fn.minute=ue.fn.minutes=ie("Minutes",!1),ue.fn.hour=ue.fn.hours=ie("Hours",!0),ue.fn.date=ie("Date",!0),ue.fn.dates=n("dates accessor is deprecated. Use date instead.",ie("Date",!0)),ue.fn.year=ie("FullYear",!0),ue.fn.years=n("years accessor is deprecated. Use year instead.",ie("FullYear",!0)),ue.fn.days=ue.fn.day,ue.fn.months=ue.fn.month,ue.fn.weeks=ue.fn.week,ue.fn.isoWeeks=ue.fn.isoWeek,ue.fn.quarters=ue.fn.quarter,ue.fn.toJSON=ue.fn.toISOString,u(ue.duration.fn=o.prototype,{_bubble:function(){var t,e,n,r,i=this._milliseconds,a=this._days,s=this._months,o=this._data;o.milliseconds=i%1e3,t=d(i/1e3),o.seconds=t%60,e=d(t/60),o.minutes=e%60,n=d(e/60),o.hours=n%24,a+=d(n/24),o.days=a%30,s+=d(a/30),o.months=s%12,r=d(s/12),o.years=r},weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)},humanize:function(t){var e=+this,n=B(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=ue.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=ue.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=g(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=g(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:ue.fn.lang,toIsoString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),a=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(r||i||a?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(a?a+"S":""):"P0D"}});for(de in Xe)Xe.hasOwnProperty(de)&&(se(de,Xe[de]),ae(de.toLowerCase()));se("Weeks",6048e5),ue.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ue.lang("en",{ordinal:function(t){var e=t%10,n=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),De?module.exports=ue:"function"==typeof define&&define.amd?(define("moment",function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(fe.moment=ce),ue}),oe(!0)):oe()}).call(this);var DateRange,INTERVALS;INTERVALS={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},DateRange=function(){function t(t,e){this.start=moment(t),this.end=moment(e)}return t.prototype.contains=function(e){return e instanceof t?this.start<=e.start&&this.end>=e.end:this.start<=e&&e<=this.end},t.prototype._by_string=function(t,e){var n,r;for(n=moment(this.start),r=[];this.contains(n);)e.call(this,n.clone()),r.push(n.add(1,t));return r},t.prototype._by_range=function(t,e){var n,r,i,a;if(r=Math.floor(this/t),1/0===r)return this;for(a=[],n=i=0;r>=0?r>=i:i>=r;n=r>=0?++i:--i)a.push(e.call(this,moment(this.start.valueOf()+t.valueOf()*n)));return a},t.prototype.overlaps=function(t){return null!==this.intersect(t)},t.prototype.intersect=function(e){var n,r,i,a,s,o,u,c;return this.start<=(r=e.start)&&r<(n=this.end)&&n<e.end?new t(e.start,this.end):e.start<(a=this.start)&&a<(i=e.end)&&i<=this.end?new t(this.start,e.end):e.start<(o=this.start)&&o<(s=this.end)&&s<e.end?this:this.start<=(c=e.start)&&c<(u=e.end)&&u<=this.end?e:null},t.prototype.subtract=function(e){var n,r,i,a,s,o,u,c;return null===this.intersect(e)?[this]:e.start<=(r=this.start)&&r<(n=this.end)&&n<=e.end?[]:e.start<=(a=this.start)&&a<(i=e.end)&&i<this.end?[new t(e.end,this.end)]:this.start<(o=e.start)&&o<(s=this.end)&&s<=e.end?[new t(this.start,e.start)]:this.start<(c=e.start)&&c<(u=e.end)&&u<this.end?[new t(this.start,e.start),new t(e.end,this.end)]:void 0},t.prototype.by=function(t,e){return"string"==typeof t?this._by_string(t,e):this._by_range(t,e),this},t.prototype.valueOf=function(){return this.end-this.start},t.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},t.prototype.isSame=function(t){return this.start.isSame(t.start)&&this.end.isSame(t.end)},t.prototype.diff=function(t){return null==t&&(t=void 0),this.end.diff(this.start,t)},t}(),moment.fn.range=function(t,e){return t in INTERVALS?new DateRange(moment(this).startOf(t),moment(this).endOf(t)):new DateRange(t,e)},moment.range=function(t,e){return new DateRange(t,e)},moment.fn.within=function(t){return t.contains(this._d)},function(t){function e(t,e,n){if((t[e]||t[n])&&t[e]===t[n])throw Error("(Link) '"+e+"' can't match '"+n+"'.'")}function n(n){if(void 0===n&&(n={}),"object"!=typeof n)throw Error("(Format) 'format' option must be an object.");var r={};t(i).each(function(t,e){if(void 0===n[e])r[e]=a[t];else{if(typeof n[e]!=typeof a[t])throw Error("(Format) 'format."+e+"' must be a "+typeof a[t]+".");if("decimals"===e&&(0>n[e]||7<n[e]))throw Error("(Format) 'format.decimals' option must be between 0 and 7.");r[e]=n[e]}}),e(r,"mark","thousand"),e(r,"prefix","negative"),e(r,"prefix","negativeBefore"),this.r=r}function r(e,n){return"object"!=typeof e&&t.error("(Link) Initialize with an object."),new r.prototype.p(e.target||function(){},e.method,e.format||{},n)}var i="decimals mark thousand prefix postfix encoder decoder negative negativeBefore to from".split(" "),a=[2,".","","","",function(t){return t
},function(t){return t},"-","",function(t){return t},function(t){return t}];n.prototype.a=function(t){return this.r[t]},n.prototype.L=function(t){function e(t){return t.split("").reverse().join("")}t=this.a("encoder")(t);var n=this.a("decimals"),r="",i="",a="",s="";return 0===parseFloat(t.toFixed(n))&&(t="0"),0>t&&(r=this.a("negative"),i=this.a("negativeBefore")),t=Math.abs(t).toFixed(n).toString(),t=t.split("."),this.a("thousand")?(a=e(t[0]).match(/.{1,3}/g),a=e(a.join(e(this.a("thousand"))))):a=t[0],this.a("mark")&&1<t.length&&(s=this.a("mark")+t[1]),this.a("to")(i+this.a("prefix")+r+a+s+this.a("postfix"))},n.prototype.w=function(t){function e(t){return t.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")}var n;return null===t||void 0===t?!1:(t=this.a("from")(t),t=t.toString(),n=t.replace(RegExp("^"+e(this.a("negativeBefore"))),""),t!==n?(t=n,n="-"):n="",t=t.replace(RegExp("^"+e(this.a("prefix"))),""),this.a("negative")&&(n="",t=t.replace(RegExp("^"+e(this.a("negative"))),"-")),t=t.replace(RegExp(e(this.a("postfix"))+"$"),"").replace(RegExp(e(this.a("thousand")),"g"),"").replace(this.a("mark"),"."),t=this.a("decoder")(parseFloat(n+t)),isNaN(t)?!1:t)},r.prototype.K=function(e,n){this.method=n||"html",this.j=t(e.replace("-tooltip-","")||"<div/>")[0]},r.prototype.H=function(t){this.method="val",this.j=document.createElement("input"),this.j.name=t,this.j.type="hidden"},r.prototype.G=function(e){function n(t,e){return[e?null:t,e?t:null]}var r=this;this.method="val",this.target=e.on("change",function(e){r.B.val(n(t(e.target).val(),r.t),{link:r,set:!0})})},r.prototype.p=function(e,n,r,i){if(this.g=r,this.update=!i,"string"==typeof e&&0===e.indexOf("-tooltip-"))this.K(e,n);else if("string"==typeof e&&0!==e.indexOf("-"))this.H(e);else{if("function"!=typeof e){if(e instanceof t||t.zepto&&t.zepto.isZ(e)){if(!n){if(e.is("input, select, textarea"))return void this.G(e);n="html"}if("function"==typeof n||"string"==typeof n&&e[n])return this.method=n,void(this.target=e)}throw new RangeError("(Link) Invalid Link.")}this.target=!1,this.method=e}},r.prototype.write=function(t,e,n,r){this.update&&!1===r||(this.u=t,this.F=t=this.format(t),"function"==typeof this.method?this.method.call(this.target[0]||n[0],t,e,n):this.target[this.method](t,e,n))},r.prototype.q=function(e){this.g=new n(t.extend({},e,this.g instanceof n?this.g.r:this.g))},r.prototype.J=function(t){this.B=t},r.prototype.I=function(t){this.t=t},r.prototype.format=function(t){return this.g.L(t)},r.prototype.A=function(t){return this.g.w(t)},r.prototype.p.prototype=r.prototype,t.Link=r}(window.jQuery||window.Zepto),function(t){function e(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function n(e){return t.isArray(e)?e:[e]}function r(t,e){t.addClass(e),setTimeout(function(){t.removeClass(e)},300)}function i(t,e){return 100*e/(t[1]-t[0])}function a(t,e){if(e>=t.d.slice(-1)[0])return 100;for(var n,r,a,s=1;e>=t.d[s];)s++;return n=t.d[s-1],r=t.d[s],a=t.c[s-1],n=[n,r],a+i(n,0>n[0]?e+Math.abs(n[0]):e-n[0])/(100/(t.c[s]-a))}function s(t,e){if(e>=100)return t.d.slice(-1)[0];for(var n,r,i,a=1;e>=t.c[a];)a++;return n=t.d[a-1],r=t.d[a],i=t.c[a-1],n=[n,r],100/(t.c[a]-i)*(e-i)*(n[1]-n[0])/100+n[0]}function o(t,e){for(var n,r=1;(t.dir?100-e:e)>=t.c[r];)r++;return t.m?(n=t.c[r-1],r=t.c[r],e-n>(r-n)/2?r:n):(t.h[r-1]?(n=t.h[r-1],r=t.c[r-1]+Math.round((e-t.c[r-1])/n)*n):r=e,r)}function u(t,n){if(!e(n))throw Error("noUiSlider: 'step' is not numeric.");t.h[0]=n}function c(n,r){if("object"!=typeof r||t.isArray(r))throw Error("noUiSlider: 'range' is not an object.");if(void 0===r.min||void 0===r.max)throw Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.each(r,function(r,i){var a;if("number"==typeof i&&(i=[i]),!t.isArray(i))throw Error("noUiSlider: 'range' contains invalid value.");if(a="min"===r?0:"max"===r?100:parseFloat(r),!e(a)||!e(i[0]))throw Error("noUiSlider: 'range' value isn't numeric.");n.c.push(a),n.d.push(i[0]),a?n.h.push(isNaN(i[1])?!1:i[1]):isNaN(i[1])||(n.h[0]=i[1])}),t.each(n.h,function(t,e){return e?void(n.h[t]=i([n.d[t],n.d[t+1]],e)/(100/(n.c[t+1]-n.c[t]))):!0})}function d(e,n){if("number"==typeof n&&(n=[n]),!t.isArray(n)||!n.length||2<n.length)throw Error("noUiSlider: 'start' option is incorrect.");e.b=n.length,e.start=n}function h(t,e){if(t.m=e,"boolean"!=typeof e)throw Error("noUiSlider: 'snap' option must be a boolean.")}function f(t,e){if("lower"===e&&1===t.b)t.i=1;else if("upper"===e&&1===t.b)t.i=2;else if(!0===e&&2===t.b)t.i=3;else{if(!1!==e)throw Error("noUiSlider: 'connect' option doesn't match handle count.");t.i=0}}function l(t,e){switch(e){case"horizontal":t.k=0;break;case"vertical":t.k=1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.")}}function m(t,n){if(2<t.c.length)throw Error("noUiSlider: 'margin' option is only supported on linear sliders.");if(t.margin=i(t.d,n),!e(n))throw Error("noUiSlider: 'margin' option must be numeric.")}function p(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.i=[0,2,1,3][t.i];break;default:throw Error("noUiSlider: 'direction' option was not recognized.")}}function g(t,e){if("string"!=typeof e)throw Error("noUiSlider: 'behaviour' must be a string containing options.");var n=0<=e.indexOf("snap");t.n={s:0<=e.indexOf("tap")||n,extend:0<=e.indexOf("extend"),v:0<=e.indexOf("drag"),fixed:0<=e.indexOf("fixed"),m:n}}function _(e,n,r){e.o=[n.lower,n.upper],e.g=n.format,t.each(e.o,function(e,i){if(!t.isArray(i))throw Error("noUiSlider: 'serialization."+(e?"upper":"lower")+"' must be an array.");t.each(i,function(){if(!(this instanceof t.Link))throw Error("noUiSlider: 'serialization."+(e?"upper":"lower")+"' can only contain Link instances.");this.I(e),this.J(r),this.q(n.format)})}),e.dir&&1<e.b&&e.o.reverse()}function y(e,n){var r,i={c:[],d:[],h:[!1],margin:0};return r={step:{e:!1,f:u},start:{e:!0,f:d},connect:{e:!0,f:f},direction:{e:!0,f:p},range:{e:!0,f:c},snap:{e:!1,f:h},orientation:{e:!1,f:l},margin:{e:!1,f:m},behaviour:{e:!0,f:g},serialization:{e:!0,f:_}},e=t.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},e),e.serialization=t.extend({lower:[],upper:[],format:{}},e.serialization),t.each(r,function(t,r){if(void 0===e[t]){if(r.e)throw Error("noUiSlider: '"+t+"' is required.");return!0}r.f(i,e[t],n)}),i.style=i.k?"top":"left",i}function v(e,n){var r=t("<div><div/></div>").addClass(F[2]),i=["-lower","-upper"];return e.dir&&i.reverse(),r.children().addClass(F[3]+" "+F[3]+i[n]),r}function w(e,n){return n.j&&(n=new t.Link({target:t(n.j).clone().appendTo(e),method:n.method,format:n.g},!0)),n}function Y(e,n){var r,i=[];for(r=0;r<e.b;r++){var a=i,s=r,o=e.o[r],u=n[r].children(),c=e.g,d=void 0,h=[],d=new t.Link({},!0);for(d.q(c),h.push(d),d=0;d<o.length;d++)h.push(w(u,o[d]));a[s]=h}return i}function M(t,e,n){switch(t){case 1:e.addClass(F[7]),n[0].addClass(F[6]);break;case 3:n[1].addClass(F[6]);case 2:n[0].addClass(F[7]);case 0:e.addClass(F[6])}}function D(t,e){var n,r=[];for(n=0;n<t.b;n++)r.push(v(t,n).appendTo(e));return r}function b(e,n){return n.addClass([F[0],F[8+e.dir],F[4+e.k]].join(" ")),t("<div/>").appendTo(n).addClass(F[1])}function k(e,i,u){function c(){return v[["width","height"][i.k]]()}function d(t){var e,n=[S.val()];for(e=0;e<t.length;e++)S.trigger(t[e],n)}function h(e,n,r){var a=e[0]!==k[0][0]?1:0,u=T[0]+i.margin,c=T[1]-i.margin;return r&&1<k.length&&(n=a?Math.max(n,u):Math.min(n,c)),100>n&&(n=o(i,n)),n=Math.max(Math.min(parseFloat(n.toFixed(7)),100),0),n===T[a]?1===k.length?!1:n===u||n===c?0:!1:(e.css(i.style,n+"%"),e.is(":first-child")&&e.toggleClass(F[17],n>50),T[a]=n,i.dir&&(n=100-n),t(w[a]).each(function(){this.write(s(i,n),e.children(),S)}),!0)}function f(t,e,n){n||r(S,F[14]),h(t,e,!1),d(["slide","set","change"])}function l(t,e,n,r){t=t.replace(/\s/g,".nui ")+".nui",e.on(t,function(t){var e=S.attr("disabled");if(S.hasClass(F[14])||void 0!==e&&null!==e)return!1;t.preventDefault();var a,s,e=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),u=0===t.type.indexOf("pointer"),c=t;0===t.type.indexOf("MSPointer")&&(u=!0),t.originalEvent&&(t=t.originalEvent),e&&(a=t.changedTouches[0].pageX,s=t.changedTouches[0].pageY),(o||u)&&(u||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),a=t.clientX+window.pageXOffset,s=t.clientY+window.pageYOffset),c.C=[a,s],c.cursor=o,t=c,t.l=t.C[i.k],n(t,r)})}function m(t,e){var n,r=e.b||k,i=!1,i=100*(t.l-e.start)/c(),a=r[0][0]!==k[0][0]?1:0,s=e.D;n=i+s[0],i+=s[1],1<r.length?(0>n&&(i+=Math.abs(n)),i>100&&(n-=i-100),n=[Math.max(Math.min(n,100),0),Math.max(Math.min(i,100),0)]):n=[n,i],i=h(r[0],n[a],1===r.length),1<r.length&&(i=h(r[1],n[a?0:1],!1)||i),i&&d(["slide"])}function p(e){t("."+F[15]).removeClass(F[15]),e.cursor&&t("body").css("cursor","").off(".nui"),x.off(".nui"),S.removeClass(F[12]),d(["set","change"])}function g(e,n){1===n.b.length&&n.b[0].children().addClass(F[15]),e.stopPropagation(),l(C.move,x,m,{start:e.l,b:n.b,D:[T[0],T[k.length-1]]}),l(C.end,x,p,null),e.cursor&&(t("body").css("cursor",t(e.target).css("cursor")),1<k.length&&S.addClass(F[12]),t("body").on("selectstart.nui",!1))}function _(e){var n=e.l,r=0;e.stopPropagation(),t.each(k,function(){r+=this.offset()[i.style]}),r=r/2>n||1===k.length?0:1,n-=v.offset()[i.style],n=100*n/c(),f(k[r],n,i.n.m),i.n.m&&g(e,{b:[k[r]]})}function y(t){var e=(t=t.l<v.offset()[i.style])?0:100;t=t?0:k.length-1,f(k[t],e,!1)}var v,w,k,S=t(e),T=[-1,-1];if(S.hasClass(F[0]))throw Error("Slider was already initialized.");v=b(i,S),k=D(i,v),w=Y(i,k),M(i.i,S,k),function(t){var e;if(!t.fixed)for(e=0;e<k.length;e++)l(C.start,k[e].children(),g,{b:[k[e]]});t.s&&l(C.start,v,_,{b:k}),t.extend&&(S.addClass(F[16]),t.s&&l(C.start,S,y,{b:k})),t.v&&(e=v.find("."+F[7]).addClass(F[10]),t.fixed&&(e=e.add(v.children().not(e).children())),l(C.start,e,g,{b:k}))}(i.n),e.vSet=function(){var e,s,o,u,c,f,l=Array.prototype.slice.call(arguments,0),m=n(l[0]);for("object"==typeof l[1]?(e=l[1].set,s=l[1].link,o=l[1].update,u=l[1].animate):!0===l[1]&&(e=!0),i.dir&&1<i.b&&m.reverse(),u&&r(S,F[14]),l=1<k.length?3:1,1===m.length&&(l=1),c=0;l>c;c++)u=s||w[c%2][0],u=u.A(m[c%2]),!1!==u&&(u=a(i,u),i.dir&&(u=100-u),!0!==h(k[c%2],u,!0)&&t(w[c%2]).each(function(t){return t?void this.write(f,k[c%2].children(),S,o):(f=this.u,!0)}));return!0===e&&d(["set"]),this},e.vGet=function(){var t,e=[];for(t=0;t<i.b;t++)e[t]=w[t][0].F;return 1===e.length?e[0]:i.dir?e.reverse():e},e.destroy=function(){return t.each(w,function(){t.each(this,function(){this.target&&this.target.off(".nui")})}),t(this).off(".nui").removeClass(F.join(" ")).empty(),u},S.val(i.start)}function S(t){if(!this.length)throw Error("noUiSlider: Can't initialize slider on empty selection.");var e=y(t,this);return this.each(function(){k(this,e,t)})}function T(e){return this.each(function(){var n=t(this).val(),r=this.destroy(),i=t.extend({},r,e);t(this).noUiSlider(i),r.start===i.start&&t(this).val(n)})}function O(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}var x=t(document),U=t.fn.val,C=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},F="noUi-target noUi-base noUi-origin noUi-handle noUi-horizontal noUi-vertical noUi-background noUi-connect noUi-ltr noUi-rtl noUi-dragable  noUi-state-drag  noUi-state-tap noUi-active noUi-extended noUi-stacking".split(" ");t.fn.val=function(){var e=arguments,n=t(this[0]);return arguments.length?this.each(function(){(t(this).hasClass(F[0])?O:U).apply(t(this),e)}):(n.hasClass(F[0])?O:U).call(n)},t.noUiSlider={Link:t.Link},t.fn.noUiSlider=function(t,e){return(e?T:S).call(this,t)}}(window.jQuery||window.Zepto);var currentDate=moment(),endingDate=moment(currentDate.year()+" 12 31","YYYY MM DD"),range=moment().range(currentDate,endingDate),months=moment.months(),geoJson,map,featureLayer,LAUNCHED=!1;$.ajax({url:"./geodata-formatted.json",success:function(t){geoJson=t,initMap()}}),jQuery(document).ready(function(){moment.months();$("#map-details select").on("change",setTimeVals),$("#slider").noUiSlider({start:[currentDate.month(),5],step:1,connect:!0,range:{min:0,max:11}}).on("slide",function(){updateTimeText()}).on("set",function(){setTimeVals()})});